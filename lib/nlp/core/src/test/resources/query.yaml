synsets:
  - name: liên hệ
    variant: |
        điện thoại, liên lạc, liên hệ, liện hệ, lien hệ, lh, LHệ, l/hệ, tel, tel., phone, Fone, 
        mobile, call, gọi điện, gọi, SĐT, SDT, đ/c, contact, hotline, mr, mr., mrs, miss, sir, 
        alo, di động, DĐ, D Đ, d.đ, handphone, hotline, liên hê, tell, đtdđ, NR, pm, số điện thoại, 
        dt, ĐT, điện thoai
queries:
  test:
    name: test query
    priority: 1
    description: extract the place information
    matchmax: 3
    matchselector: first
    prematch:
      - "print: call prematch for query test query"
      - "if-match: / synset{name=lienhe}  ? $print{match keyword diadiem} : $exit" 
    match:
      - /p synset{name=lienhe} .4. digit .2. entity{type=street}
      - /p synset{name=lienhe} .4. entity{type=street, district, quarter} .4. entity{type=district, quarter, city}
    extract:
      - diadiem:lienhe   =  synset{ name = lienhe }
      - diadiem:duong    =  entity{ type = street }
      - diadiem:phuong   =  entity{ type = quarter }
      - diadiem:quan     =  entity{ type = district }
      - diadiem:thanhpho =  entity{ type = city }
      - diadiem:tinh     =  entity{ type = province }
      - diadiem:quocgia  =  entity{ type = country }
    postmatch:
      - "print: call postmatch for query test query"
      - "if: $extractCount{diadiem:*} > 3 ? $print{extract count > 3} : $print{extract count < 3}"
      - "if: $extractCount{diadiem:*} > 3 ? $tag{address}"
